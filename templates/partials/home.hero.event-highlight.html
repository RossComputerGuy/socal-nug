{% include "partials/home.hero.event-highlight.jstemplate.html" %}

<section class="hero has-background-light">
  <div class="hero-body">
    <div id="event-container">
      <div class="container has-text-centered">
        <h1 class="title">
          Our next event
        </h1>
        <div id="event-card" class="frontpage-event-card box">
          <div class="media">
            <div class="media-content">
              <div class="content">
                <h3>
                  We currently don't have any upcoming events planned.
                  <br>
                  Join us on Matrix to keep up with the latest updates.
                </h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  (async function () {
    // Grab event page html
    const eventPageHTML = await fetch('/events').then(e => e.text());
    const fragment = document.createRange().createContextualFragment(eventPageHTML);
    const eventElements = Array.from(fragment.querySelectorAll('.event'));
    const events = eventElements.map(e => {
      return {
        eventDate: new Date(e.dataset['eventDate'])
      }
    });

    const eventBadge = document.getElementById('event-highlight');
    const eventContainer = document.getElementById('event-card');

    // eventContainer.replaceWith(eventBadge.content.cloneNode(true));
  }());
</script>